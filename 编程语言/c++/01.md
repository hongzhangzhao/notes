
## GDB调试工具

- 安装GDB

```
apt update && apt install gdb
```

- 还需要安装符号包，将进制信息转成语言符号

打开 ddebs 仓库（一次性操作）
```sh
# 添加官方 ddebs 源
echo "deb http://ddebs.ubuntu.com $(lsb_release -cs) main restricted universe multiverse
deb http://ddebs.ubuntu.com $(lsb_release -cs)-updates main restricted universe multiverse
deb http://ddebs.ubuntu.com $(lsb_release -cs)-security main restricted universe multiverse" | \
tee /etc/apt/sources.list.d/ddebs.list

# 导入 GPG key
sudo apt install ubuntu-dbgsym-keyring
sudo apt update
```

安装符号包
```sh
sudo apt install \
  libc6-dbg \
  libstdc++6-dbgsym \
  gcc-11-dbgsym g++-11-dbgsym \
  libgcc-s1-dbgsym
```

- 有调试的编译
```
g++ -g -O0 -Wall tinytetris-commented.cpp -lncurses -o tinytetris_debug
```

- `-g`：包含调试信息
- `-O0`：关闭优化，便于调试
- `-Wall`：显示所有警告
- `-lncurses`：链接 ncurses 库

